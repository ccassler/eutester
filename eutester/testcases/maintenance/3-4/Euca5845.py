# coding: utf-8'''Created on 8/14/13Author: mmunnUnit test          : EUCA-5845 CLC accepts invalid characters for resource namessetUp              : Install Credentials,test               : try and create a security group with a name that contains NON ASCII Character this should fail                     with ClientComputeException "InvalidParameterValue" errortearDown           : Removes Credentialscloud.conf:( place in same directory as this test)IP ADDRESS CENTOS  6.3     64      BZR     [CC00 CLC SC00 WS]IP ADDRESS CENTOS  6.3     64      BZR     [NC00]'''import unittestimport shutilfrom eucaops import Eucaopsclass Euca5845(unittest.TestCase):    def setUp(self):        self.conf = "cloud.conf"        self.tester = Eucaops(config_file=self.conf, password="foobar")        self.OK = '\033[1m\033[37m\033[42m'        self.ENDC = '\033[0m'    def tearDown(self):        self.tester.cleanup_artifacts()        self.tester.delete_keypair(self.keypair)        self.tester.local("rm " + self.keypair.name + ".pem")        shutil.rmtree(self.tester.credpath)    def doAuth(self, groupName):        self.keypair = self.tester.add_keypair()        self.group = self.tester.add_group(groupName)        self.tester.authorize_group(self.group)    def testName(self):        # Group name with NON ASCII Character        badGroupName = 'linÂ¢ux'        try :            self.doAuth(badGroupName)        except Exception as err:            if  str(err).count('InvalidParameterValue') > 0 :                print self.OK + err.args[2] + self.ENDC                pass            else :                self.fail("FAILED : NON ASCII Character allowed.")        print 'SUCCESS'if __name__ == "__main__":    unittest.main()